
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6fb369d2-9f6f-5028-b25f-9a5a8a6d6132")}catch(e){}}();
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="be6c0b8b-7483-4300-94c7-5d160078b71b",e._sentryDebugIdIdentifier="sentry-dbid-be6c0b8b-7483-4300-94c7-5d160078b71b")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46469],{421446:function(e,t,i){var r,n;i.d(t,{Mo:function(){return r},sS:function(){return a}});let a={bpData:["business-profile-data"]};(n=r||(r={})).CREATE_BUSINESS_PROFILE="CREATE_BUSINESS_PROFILE",n.EDIT_BUSINESS_PROFILE="EDIT_BUSINESS_PROFILE",n.EDIT_PAYMENT_METHOD="EDIT_PAYMENT_METHOD",n.BP_CREATION_SUCCESS="BP_CREATION_SUCCESS",n.LINK_EXPENSE_PROVIDER="LINK_EXPENSE_PROVIDER",n.EP_LINKING_SUCCESS="EP_LINKING_SUCCESS",n.EP_UNLINK_CONFIRMATION="EP_UNLINK_CONFIRMATION",n.USER_FEEDBACK="USER_FEEDBACK",n.EMAIL_VERIFICATION_INPUT="EMAIL_VERIFICATION_INPUT",n.ONE_TIME_CODE_VERIFICATION="ONE_TIME_CODE_VERIFICATION",n.CHANGE_VERIFIED_WORK_EMAIL="CHANGE_VERIFIED_WORK_EMAIL"},292492:function(e,t,i){i.d(t,{A:function(){return o}});var r=i(13794),n=i(714551),a=i.n(n),s=i(794304),l=i(421446);let o=function(e){let{consumerId:t}=e,i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[n]=(0,s.useUGClient)(a()),{data:o,isLoading:u,error:d,refetch:c}=(0,r.useQuery)({queryFn:()=>n.getConsumerBusinessProfileV1BusinessProfiles({consumerId:t}),queryKey:l.sS.bpData,enabled:i});return{data:o,isLoading:u,error:d,refetch:c}}},713152:function(e,t,i){var r,n;i.d(t,{O:function(){return r}}),(n=r||(r={})).EMPTY="EMPTY",n.UNSPECIFIED="UNSPECIFIED",n.GROUP_CART_PARTICIPANT_CHECKOUT="GROUP_CART_PARTICIPANT_CHECKOUT"},946469:function(e,t,i){i.d(t,{Yy:function(){return R},RV:function(){return F},ZP:function(){return g},gH:function(){return D},Gc:function(){return b}});var r=i(361967),n=i(313773),a=i(131731),s=i(935010),l=i(970501),o=i(805990),u=i(55404),d=i(401827),c=i(898350),p=i(543396);let h=(e,t,i)=>e?t:i||p.V;var v=e=>{let{consumerScheduledTime:t=p.V,shouldSyncWithConsumerTime:i=!1,preselectedScheduledTime:r=""}=e,[a,s]=n.useState(h(i,t,r)),l=n.useRef(!1),[o,u]=n.useState(a),{setCheckoutQueryScheduledTime:d}=n.useContext(c.Z),v=n.useCallback(e=>{null==d||d(e),s(e)},[d,s]),y=h(i,t,r);return n.useEffect(()=>{y&&y!==o&&!l.current&&(l.current=!0,u(y),v(y))},[y,o,l,u,v]),{localScheduledTime:a,setLocalScheduledTime:v}},y=i(952066),m=i(410969),C=i(664472),_=i(313168),S={__typename:"RewardBalanceDetails",monetaryValue:{__typename:"AmountMonetaryFields",currency:"USD",displayString:"$25.00",unitAmount:2500},transactionAmount:{__typename:"RewardTransactionDetails",amount:3125,label:"points",conversionRate:80}};let A=function(e,t){var i,r;let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return C.kz;let a=n?S:null==e?void 0:e.rewardBalanceAvailable;return(0,m.VK)({cartId:e.id,storeId:null==e?void 0:null===(i=e.restaurant)||void 0===i?void 0:i.id,currency:null==a?void 0:null===(r=a.monetaryValue)||void 0===r?void 0:r.currency})},E=e=>{let t=(0,y.KQ)(),i=(0,_.N)(),r=t&&i,[a,s]=n.useState(()=>A(e,r));return{dashCardPoints:a,setDashCardPoints:s}};var P=i(713152),I=i(555121),f=i(595056);let T=n.createContext({});T.displayName="FormContext";let R=T.Consumer,D=(e,t,i,r)=>{var n,a;return{country:null!==(n=null==t?void 0:t.toUpperCase())&&void 0!==n?n:o.Z8.US,currency:null!==(a=null==i?void 0:i.toLowerCase())&&void 0!==a?a:"usd",requestPayerName:!0,total:{amount:e,label:r||"doordash.com"}}},O=e=>(null==e?void 0:e.menuOptions)?JSON.stringify(e.menuOptions.map(e=>e?{id:e.id,selection:e.selection}:null).filter(e=>!!e)):null;class N extends n.Component{static getDerivedStateFromProps(e,t){var i,r;let{orderCart:n}=e,a=new d.ZP(n),s=a.isPickup(),l=a.defaultTips(),o=t.isPickupOrder!==s||0===t.tips.length?l:t.tips,u=o.map(e=>e.value),c=a.total(u),p=a.debits([0]),h=p+a.sumTips(u),v=a.hasCompanyPayment()?{isApplePayAvailable:!1}:{},y=null!==(r=null===(i=n.orderTimeAvailability)||void 0===i?void 0:i.scheduleLongerInAdvanceTime)&&void 0!==r&&r;return{...t,...v,isPickupOrder:s,tips:o,totalWithoutTipBeforeCredits:p,totalWithTipBeforeCredits:h,total:c,canScheduleLongerInAdvanceTime:y}}componentDidUpdate(e){let t=e.orderCart,i=new d.ZP(t),r=i.total([0]),{orderCart:n,consumerStripeKey:a}=this.props,l=new d.ZP(n),o=l.total([0]),u=this.state.tips.map(e=>e.value);r!==o&&this.setState({total:l.total(u)}),i.hasCompanyPayment()&&!l.hasCompanyPayment()&&this.setState({workOrderOptions:null}),!this.state.stripe&&a&&(0,s.J)(this.setStripe,a)}render(){let{defaultPaymentMethod:e,localScheduledTime:t,setLocalScheduledTime:i,dashCardPoints:n,setDashCardPoints:a,isDashCardCheckoutUpsellVisible:s,showDashCardCheckoutUpsell:l,potentialDashPassRefundAmount:o,giftCardDeliveryDetailsState:u}=this.props;return(0,r.jsx)(T.Provider,{value:{...this.state,defaultPaymentMethod:e,localScheduledTime:t,setLocalScheduledTime:i,dashCardPoints:n,setDashCardPoints:a,isDashCardCheckoutUpsellVisible:s,showDashCardCheckoutUpsell:l,potentialDashPassRefundAmount:o,giftCardDeliveryDetailsState:u},children:this.props.children})}constructor(e){var t,i,r,n,s,l,c,p,h;super(e),this.handleSetApplePay=e=>{this.setState({isApplePaySelected:e})},this.handleSet=(e,t)=>{let{orderCart:i}=this.props,r=new d.ZP(i);switch(e){case"tips":let n=t.tipRecipient,a=this.state.tips.findIndex(e=>e.tipRecipient===n);if(!n||-1===a)return;let s=[...this.state.tips];s[a]=t,this.setState({tips:s,total:r.total([t.value])});break;case"verifiedAgeRequirement":this.setState({verifiedAgeRequirement:t});break;case"menuOptions":this.setState({menuOptions:t});break;case"workOrderOptions":this.setState({workOrderOptions:t});break;case"dasherPickupInstructions":this.setState({dasherPickupInstructions:t});break;default:this.setState({[e]:t})}},this.setStripe=e=>{this.setState({stripe:e});let t=D(this.state.total),i=null==e?void 0:e.paymentRequest(t);null==i||i.canMakePayment().then(e=>{let t=!!this.props.paymentCards.find(e=>e.isDefault),i=this.state.isDigitalWalletAllowed&&!!(null==e?void 0:e.applePay)&&this.props.checkoutMode!==P.O.GROUP_CART_PARTICIPANT_CHECKOUT;this.setState({isApplePayAvailable:i,isApplePaySelected:i&&!t,applePayLabel:(null==e?void 0:e.applePay)?"Apple Pay":"Google or Microsoft Pay"})})},this.setGiftOptions=e=>{this.setState({giftOptions:e})},this.launchCardBlockModal=()=>{this.setState({cardVerificationRequired:!0}),this.setShowCardBlockModal(!0)},this.setShowCardBlockModal=e=>{this.setState({showCardBlockModal:e})},this.setCardVerificationRequired=e=>{this.setState({cardVerificationRequired:e})},this.setShowCardScanAlternative=e=>{this.setState({showCardScanAlternative:e})},this.setPaymentError=e=>{this.setState({paymentError:e})},this.resetPaymentError=()=>{this.setState({paymentError:""})};let{orderCart:v,isCashTransaction:y,isDineIn:m,tableId:C}=e,_=null!==(c=null===(t=v.orderTimeAvailability)||void 0===t?void 0:t.scheduleLongerInAdvanceTime)&&void 0!==c&&c,S=new d.ZP(v),A=S.isPickup(),E=S.defaultTips(),I=E.map(e=>e.value),f=S.debits([0]),T=f+S.sumTips(I),R=S.total(I),N=null===(i=v.domain)||void 0===i?void 0:i.giftInfo,F=(null==N?void 0:N.recipientName)?(0,a.KZ)(N,!!v.isMerchantShipping):null,b=null!==(p=null===(n=v.orders)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.isOrderRoutineReorderEligible)&&void 0!==p&&p;this.state={isPickupOrder:A,tips:E,giftOptions:F,totalWithoutTipBeforeCredits:f,totalWithTipBeforeCredits:T,total:R,isDigitalWalletAllowed:!1!==v.isDigitalWalletAllowed&&!y,verifiedAgeRequirement:!1,set:this.handleSet,isApplePayAvailable:!1,isApplePaySelected:!1,applePayLabel:"Apple Pay",stripe:null,setUseApplePay:this.handleSetApplePay,menuOptions:O(v),setGiftOptions:this.setGiftOptions,countryCode:(0,o.Nn)((0,u.t8)(null===(s=v.restaurant)||void 0===s?void 0:s.address)),optInSelected:!1,workOrderOptions:null,recipientShippingDetails:(0,a.E$)({orderCartCreator:null==v?void 0:v.creator,giftInfo:N}),isDineIn:m||null,tableId:C||null,membershipId:"",programId:"",canScheduleLongerInAdvanceTime:_,routineReorderDetails:null,isMerchantShipping:null!==(h=v.isMerchantShipping)&&void 0!==h&&h,storeId:(null===(l=v.restaurant)||void 0===l?void 0:l.id)||"",isOrderRoutineReorderEligible:b,hasAccessibilityRequirements:null,snapEbtProviderType:null,dasherPickupInstructions:"",cardVerificationRequired:!1,launchCardBlockModal:this.launchCardBlockModal,showCardBlockModal:!1,setShowCardBlockModal:this.setShowCardBlockModal,setCardVerificationRequired:this.setCardVerificationRequired,showCardScanAlternative:!1,setShowCardScanAlternative:this.setShowCardScanAlternative,paymentError:"",setPaymentError:this.setPaymentError,resetPaymentError:this.resetPaymentError}}}let F=e=>{var t,i,a;let{isBusinessProfileEnabled:s,isBpActive:o}=(0,f.m)(),u=e.orderCart.paymentProfileType===l.gc6.PAYMENT_PROFILE_TYPE_BUSINESS,d=s&&o&&u,c=n.useMemo(()=>{var t,i;return d?(null!==(t=e.paymentCards)&&void 0!==t?t:[]).find(e=>e.isBusinessDefault):(null!==(i=e.paymentCards)&&void 0!==i?i:[]).find(e=>e.isDefault)},[e.paymentCards,d]),p=!!(null===(t=e.orderCart)||void 0===t?void 0:t.isSameStoreCatering)||(0,I.My)((null===(a=e.orderCart)||void 0===a?void 0:null===(i=a.restaurant)||void 0===i?void 0:i.id)||""),{localScheduledTime:h,setLocalScheduledTime:y}=v({consumerScheduledTime:e.consumerScheduledTime,shouldSyncWithConsumerTime:!!e.orderCart.isCatering||p,preselectedScheduledTime:e.preselectedScheduledTime}),{dashCardPoints:m,setDashCardPoints:C}=E(e.orderCart),[_,S]=n.useState(!1);return(0,r.jsx)(N,{...e,defaultPaymentMethod:c,localScheduledTime:h,setLocalScheduledTime:y,dashCardPoints:m,setDashCardPoints:C,isDashCardCheckoutUpsellVisible:_,showDashCardCheckoutUpsell:S,potentialDashPassRefundAmount:e.potentialDashPassRefundAmount||0,giftCardDeliveryDetailsState:e.giftCardDeliveryDetailsState})},b=()=>n.useContext(T);var g=T},401827:function(e,t,i){i.d(t,{SM:function(){return r},ZP:function(){return d}}),i(283580);var r,n,a=i(3063),s=i.n(a),l=i(155786),o=i.n(l),u=i(970501);(n=r||(r={})).Tax="tax",n.MinOrderFee="min order fee",n.ServiceFee="service fee",n.TaxesAndFees="taxes and fees",n.Subtotal="subtotal",n.LegislativeFee="legislative fee",n.DeliveryFee="delivery fee",n.Discount="discount",n.Tip="tip",n.SnapEbt="snap_ebt";class d{isPickup(){return this.orderCartQueryResult.isConsumerPickup||!1}isPreTippable(){return this.orderCartQueryResult.isPreTippable||!1}defaultTips(){var e;return(null!==(e=this.orderCartQueryResult.tipsSuggestionsList)&&void 0!==e?e:[]).map(e=>{let t=e.tipRecipient,i=e.suggestions.find(e=>e.isDefault);return{tipRecipient:t,value:i?i.value:0}})}sumTips(e){return s()(e)}hasCompanyPayment(){var e,t,i;return!!(null===(i=this.orderCartQueryResult)||void 0===i?void 0:null===(t=i.companyPaymentInfo)||void 0===t?void 0:null===(e=t.teamOrderInfo)||void 0===e?void 0:e.budgetId)}hasExternalGiftCardApplied(){var e,t,i;return!!(null===(i=this.orderCartQueryResult)||void 0===i?void 0:null===(t=i.applicableExternalGiftCardDetails)||void 0===t?void 0:null===(e=t.externalGiftCardsList)||void 0===e?void 0:e.length)}getAllExternalGiftCardApplied(){var e,t,i;return null!==(i=null===(t=this.orderCartQueryResult)||void 0===t?void 0:null===(e=t.applicableExternalGiftCardDetails)||void 0===e?void 0:e.externalGiftCardsList)&&void 0!==i?i:[]}companyPayTotal(e){let t=s()(e);return Math.min(this.companyPayCompanyInitialAmount()+t,this.companyPayMaxBudgetAmount())}companyPayMaxBudgetAmount(){var e,t,i;return(null===(i=this.orderCartQueryResult)||void 0===i?void 0:null===(t=i.companyPaymentInfo)||void 0===t?void 0:null===(e=t.maxBudgetAmount)||void 0===e?void 0:e.unitAmount)||0}companyPayCompanyInitialAmount(){var e,t,i;return(null===(i=this.orderCartQueryResult)||void 0===i?void 0:null===(t=i.companyPaymentInfo)||void 0===t?void 0:null===(e=t.companyAmount)||void 0===e?void 0:e.unitAmount)||0}companyPayIndividualAmount(){var e,t,i;return(null===(i=this.orderCartQueryResult)||void 0===i?void 0:null===(t=i.companyPaymentInfo)||void 0===t?void 0:null===(e=t.individualAmount)||void 0===e?void 0:e.unitAmount)||0}appliedCreditsForCartWithBudget(){var e,t,i;return(null===(i=this.orderCartQueryResult)||void 0===i?void 0:null===(t=i.companyPaymentInfo)||void 0===t?void 0:null===(e=t.creditsApplied)||void 0===e?void 0:e.unitAmount)||0}appliedCredits(){return this.hasCompanyPayment()?this.appliedCreditsForCartWithBudget():this.orderCartQueryResult.creditsApplicableBeforeTip||0}companyCredits(){return 0}debits(e){return this.hasCompanyPayment()?this.total(e):this.total(e)+this.appliedCredits()}applicableCredits(e){let t=s()(e),i=this.consumerCredits()-this.appliedCredits();return this.appliedCredits()+Math.min(t,i)}subtotal(){return this.orderCartQueryResult.subtotal||0}serviceFee(){return this.orderCartQueryResult.appliedServiceFee||0}originalServiceFee(){return this.orderCartQueryResult.serviceRateDetails&&this.orderCartQueryResult.serviceRateDetails.originalFee&&this.orderCartQueryResult.serviceRateDetails.originalFee.unitAmount||0}tax(){return this.orderCartQueryResult.taxAmount||0}discount(){return Math.max(this.totalDiscount()-this.appliedCredits(),0)}totalDiscount(){return this.orderCartQueryResult.discountDetails&&this.orderCartQueryResult.discountDetails.appliedDiscount&&this.orderCartQueryResult.discountDetails.appliedDiscount.unitAmount||0}minOrderFee(){return this.orderCartQueryResult.minOrderFee||0}deliveryFee(){return this.orderCartQueryResult.deliveryFee||0}originalDeliveryFee(){return this.orderCartQueryResult.deliveryFeeDetails&&this.orderCartQueryResult.deliveryFeeDetails.originalFee&&this.orderCartQueryResult.deliveryFeeDetails.originalFee.unitAmount||0}isDeliveryFeeDiscounted(){return this.deliveryFee()<this.originalDeliveryFee()}originalTaxesAndFees(){return o()(this.taxesAndFeesLineItems(),e=>void 0!==e.originalValue?e.originalValue:e.value)}taxesAndFeesLineItems(){return[{type:"tax",value:this.tax()},{type:"min order fee",value:this.minOrderFee()},{type:"service fee",originalValue:this.originalServiceFee(),value:this.serviceFee()}]}taxesAndFees(){return o()(this.taxesAndFeesLineItems(),"value")}isTaxesAndFeesDiscounted(){return this.taxesAndFees()<this.originalTaxesAndFees()}legislativeFee(){return this.orderCartQueryResult.legislativeFeeDetails&&this.orderCartQueryResult.legislativeFeeDetails.unitAmount||0}lineItems(e){let t=e.map(e=>({type:"tip",value:e}));return[{type:"subtotal",value:this.subtotal()},{type:"legislative fee",value:this.legislativeFee()},{type:"delivery fee",originalValue:this.originalDeliveryFee(),value:this.deliveryFee()},{type:"taxes and fees",originalValue:this.originalTaxesAndFees(),value:this.taxesAndFees()},{type:"discount",value:-this.discount()},...t]}totalFromLineItems(e){return o()(this.lineItems(e),"value")}total(e){return this.hasCompanyPayment()?s()([this.appliedCreditsForCartWithBudget(),this.companyPayIndividualAmount(),this.companyPayCompanyInitialAmount(),...e]):s()([this.orderCartQueryResult.total||0,...e])}toJSON(){let e=this.defaultTips().map(e=>e.value);return{isPickup:this.isPickup(),isPreTippable:this.isPreTippable(),hasCompanyPayment:this.hasCompanyPayment(),companyPayTotal:this.companyPayTotal(e),companyPayMaxBudgetAmount:this.companyPayMaxBudgetAmount(),companyPayInitialAmount:this.companyPayCompanyInitialAmount(),defaultTips:this.defaultTips(),appliedCredits:this.appliedCredits(),consumerCredits:this.consumerCredits(),debits:this.debits(e),subtotal:this.subtotal(),serviceFee:this.serviceFee(),originalServiceFee:this.originalServiceFee(),tax:this.tax(),discount:this.discount(),totalDiscount:this.totalDiscount(),minOrderFee:this.minOrderFee(),deliveryFee:this.deliveryFee(),originalDeliveryFee:this.originalDeliveryFee(),isDeliveryFeeDiscounted:this.isDeliveryFeeDiscounted(),originalTaxesAndFees:this.originalTaxesAndFees(),taxesAndFeesLineItems:this.taxesAndFeesLineItems(),taxesAndFees:this.taxesAndFees(),isTaxesAndFeesDiscounted:this.isTaxesAndFeesDiscounted(),lineItems:this.lineItems(e),totalFromLineItems:this.totalFromLineItems(e),total:this.total(e),totalSavings:this.totalSavings()}}consumerCredits(){var e;return(null===(e=this.orderCartQueryResult.totalCreditsAvailable)||void 0===e?void 0:e.unitAmount)||0}totalSavings(){return this.orderCartQueryResult.totalSavings||0}getTotalStrikethrough(e){var t,i,r,n;let a=null!==(n=null===(r=this.orderCartQueryResult.lineItemsList)||void 0===r?void 0:null===(i=r.filter(e=>e.chargeId&&[u.k1p.CASH_BACK_REWARDS_APPLIED,u.k1p.CREDITS,u.k1p.EXPENSED_MEAL_COMPANY_PAY].includes(e.chargeId)))||void 0===i?void 0:null===(t=i.map(e=>{var t,i;return null!==(i=null===(t=e.finalMoney)||void 0===t?void 0:t.unitAmount)&&void 0!==i?i:0}))||void 0===t?void 0:t.reduce((e,t)=>e+Math.abs(t),0))&&void 0!==n?n:0,l=s()([this.totalSavings(),-a]);return s()([e,l])}constructor(e){this.orderCartQueryResult=e}}},595056:function(e,t,i){i.d(t,{m:function(){return h}});var r=i(222679),n=i(714551),a=i(305017),s=i(292492),l=i(278884),o=i(970501),u=i(293266),d=i(410210),c=i(22306);let p=e=>{let{snapEBTEligibleAmount:t,hsaFsaEligibleAmount:i}=(0,u.S)({paymentMethods:e});return(0,d.lz)({entryPoint:c.CZ.CHECKOUTINFO_WITHOUT_LOGIN,hsaFsaEligibleAmount:i,isSnapEBTExperience:!!t,paymentMethods:e})},h=(e,t,i)=>{var u,d;let c=(0,r.y)(a.pc.ddfbBusinessProfiles,!1),{consumer:h}=(0,l.R)(),{data:v,isLoading:y,refetch:m}=(0,s.A)({consumerId:null==h?void 0:h.id},c),C=c&&(!(null==v?void 0:v.business_profile)||(null==v?void 0:v.business_profile.profile_status)!==n.ConsumerBusinessProfileServiceV1ProfileStatus.Prohibited),_=p(null!=t?t:[]),S=(null==v?void 0:null===(u=v.business_profile)||void 0===u?void 0:u.is_active)||!1,A=(null==v?void 0:null===(d=v.business_profile)||void 0===d?void 0:d.default_payment_method_id)||null,E=!(null==t?void 0:t.some(e=>e.paymentMethodUuid===A)),P=C&&!y&&(!S||!A||E)&&e===o.gc6.PAYMENT_PROFILE_TYPE_BUSINESS,I=C&&(S||e===o.gc6.PAYMENT_PROFILE_TYPE_BUSINESS)&&!i&&!_;return{isBusinessProfileEnabled:C,isBpDataLoading:y,isBpActive:S,shouldShowBpWarning:P,isBpActiveWithoutDefaultBusinessPayment:S&&(!A||E),enableBusinessProfileToggleOnCheckout:I,bpData:null==v?void 0:v.business_profile,refetchBpData:m}}},935010:function(e,t,i){i.d(t,{J:function(){return s}});var r=i(262679);let n=(e,t)=>{let i;try{i=window.Stripe(t,{canCreateRadarSession:!0,betas:["afterpay_clearpay_setup_intents_beta"]})}catch(e){(0,r.Tb)(e);return}e(i)},a=(e,t,i)=>{e.addEventListener("load",()=>{n(t,i)})},s=(e,t)=>{if(window.Stripe)n(e,t);else{let i=document.querySelector("#stripe-js");if(!i){let i=document.createElement("script");i.type="text/javascript",i.src="https://js.stripe.com/v3",i.id="stripe-js",document.body.appendChild(i),a(i,e,t)}i&&a(i,e,t)}}},410210:function(e,t,i){i.d(t,{F2:function(){return l},UR:function(){return o},lz:function(){return s},vF:function(){return a}});var r=i(22306),n=i(970501);let a=e=>r.Y5.has(e)||e===r.CZ.CHECKOUT_DOUBLEDASH||r.FZ.has(e),s=e=>{var t;let{entryPoint:i,hsaFsaEligibleAmount:a,isSnapEBTExperience:s,paymentMethods:l}=e,o=l.find(e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t.isHsaFsaCard}),u=l.find(e=>e.isDefault),d=r.Uj.has(i),c=o&&(null===(t=o.paymentMethodAvailability)||void 0===t?void 0:t.paymentMethodAvailabilityStatus)!==n.x1t.status_down;return!!(!s&&d&&a&&c&&u)},l=e=>{var t;let{hasDefaultPaymentMethod:i,isSnapEBTExperience:r,hsaFsaPaymentMethod:a,hsaFsaEligibleAmount:s}=e,l=a&&(null===(t=a.paymentMethodAvailability)||void 0===t?void 0:t.paymentMethodAvailabilityStatus)!==n.x1t.status_down;return!!(i&&!r&&l&&s)},o=e=>{var t,i;return null!==(i=null==e?void 0:null===(t=e.metadata)||void 0===t?void 0:t.isHsaFsaCard)&&void 0!==i&&i}},22306:function(e,t,i){var r,n,a,s,l,o,u,d,c,p;i.d(t,{$0:function(){return r},CZ:function(){return a},FZ:function(){return y},Nj:function(){return n},Uj:function(){return v},Y5:function(){return h},uZ:function(){return l},wp:function(){return s}}),(o=r||(r={})).STRIPE="stripe",o.PAYPAL="paypal",(u=n||(n={})).Stripe="stripe",u.Vgs="vgs",u.Braintree="braintree",(d=a||(a={})).HOME="home",d.ACCOUNT_PAYMENT="account_payment",d.DASHPASS_MANAGE_SUBSCRIPTION="manage_subscription",d.ACCOUNT_BUSINESS_PROFILES="account_business_profiles",d.BUSINESS_PROFILES_SELECT_PAYMENT_MODAL="business_profiles_select_payment_modal",d.CHECKOUT="checkout",d.CHECKOUTINFO_WITHOUT_LOGIN="checkoutInfoWithoutLogin_paymentDetails",d.CHECKOUTINFO="checkoutInfo_changePaymentModal",d.CHECKOUTINFO_PAYMENTPANEL="mx_checkout_payment_panel",d.CHECKOUTINFO_PAYMENTPANEL_NO_PROMO="mx_checkout_payment_panel_no_promo",d.CHECKOUTSIDEBAR_PM_DECLINED="checkoutSidebar_paymentDeclined",d.CHECKOUTSIDEBAR_PM_MISSING="checkoutSidebar_paymentMissing",d.CHECKOUTSIDEBAR_CX_GUIDED_RECOVERY="checkoutSidebar_cxGuidedRecovery",d.CHECKOUTINFO_PAYMENT_ERROR="checkoutInfoPaymentError",d.CHECKOUT_HSAFSA_ADD_CARD_BANNER="checkoutHSAFSAAddCardBanner",d.CHECKOUT_PAUSE_REVIEW_BANNER="checkoutPauseReviewBanner",d.CHECKOUT_SHIP_ANYWHERE="checkoutShipAnywhere",d.CHECKOUT_DOUBLEDASH="checkoutDoubleDash",d.CHECKOUT_ADD_CARD_MODAL="checkoutAddCardModal",d.CHECKOUT_ONE_TAP_RETRY="checkoutOneTapRetry",d.DRIVE_CHECKOUT="checkoutDrive",d.STOREFRONT_CHECKOUT="checkoutStorefront",d.POST_CHECKOUT="postCheckout",(c=s||(s={})).DASHPASS_SIGNUP="dashpassSignup",c.DASHPASS_ANNUAL_PLAN_UPSELL="dashpass_annual_plan_upsell",c.DASHPASS_ANNUAL_PLAN_UPSELL_BUTTON="dashpass_annual_plan_upsell_button",c.DASHPASS_ANNUAL_PLAN_ADD_CARD_BUTTON="dashpass_annual_plan_add_button",c.DASHPASS_MANAGE_SUBSCRIPTION="manage_subscription",c.DASHPASS_MODAL="dashpass_modal",c.DASHPASS_LANDING="dashpass_landing",c.DASHPASS_PARTNER="partner_dashpass",c.EXCLUSIVE_ITEM="exclusive_item",c.DASHPASS_ORDER_CART_UPSELL="dashpass_order_cart_upsell",(p=l||(l={})).ACCOUNT="account",p.POST_CHECKOUT="post-checkout",p.ORDERS="orders",p.ORDERS_EXPENSE_PROVIDER_UPSELL="orders_expense_provider_upsell",p.UNSPECIFIED="unspecified";let h=new Set(Object.values(s)),v=new Set(["checkoutInfo_changePaymentModal","checkoutInfoWithoutLogin_paymentDetails","mx_checkout_payment_panel","mx_checkout_payment_panel_no_promo","checkoutSidebar_paymentDeclined","checkoutSidebar_paymentMissing","checkoutSidebar_cxGuidedRecovery","checkoutInfoPaymentError","checkoutShipAnywhere","checkoutDoubleDash","checkoutOneTapRetry","checkoutStorefront","checkoutDrive"]),y=new Set(Object.values(l))},55404:function(e,t,i){i.d(t,{t8:function(){return n}});let r="United States",n=e=>{var t;return e?((null==e?void 0:e.country)||(null==e?void 0:null===(t=e.printableAddress)||void 0===t?void 0:t.split(",").pop())||r).trim():r};t.ZP=n},664472:function(e,t,i){i.d(t,{TA:function(){return n},iL:function(){return r},kz:function(){return a}});let r="dd_dcp",n=86400,a=0},410969:function(e,t,i){i.d(t,{Hj:function(){return o},Nq:function(){return s},VK:function(){return u},Vb:function(){return a},y2:function(){return l}});var r=i(699251),n=i(664472);let a=()=>r.ZP.get(n.iL),s=e=>{r.ZP.set(n.iL,e,30*n.TA)},l=()=>{r.ZP.delete(n.iL)},o=(e,t)=>e.cartId!==t.cartId||e.storeId!==t.storeId||e.currency!==t.currency,u=e=>{let t=a();return t?o(e,t)?(l(),n.kz):t.amount||n.kz:n.kz}},313168:function(e,t,i){i.d(t,{N:function(){return a}});var r=i(299891),n=i(714313);let a=()=>{let{isCaviar:e,isDoorDash:t}=(0,r.Z)(),i=(0,n.TH)(),a=(0,n.tv)(),s=((null==a?void 0:a.asPath)||(null==i?void 0:i.pathname)||"").startsWith("/consumer/checkout");return(e||t)&&s}}}]);
//# sourceMappingURL=46469-2e23facc148f2dd2.js.map
//# debugId=6fb369d2-9f6f-5028-b25f-9a5a8a6d6132
